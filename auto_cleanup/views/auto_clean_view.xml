<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="view_cleanup_config_tree" model="ir.ui.view">
            <field name="name">view.cleanup.config.tree</field>
            <field name="model">auto.clean</field>
            <field name="arch" type="xml">
                <list>
                    <field name="notification_cleanup" string="Notification Cleanup"/>
                    <field name="followers_cleanup" string="Followers Cleanup"/>
                    <field name="mail_cleanup" string="Mail Cleanup"/>
                    <field name="sms_cleanup" string="SMS Cleanup"/>
                    <field name="cleanup_type" string="Cleanup Type"/>
                </list>
            </field>
        </record>

        <record id="view_cleanup_config_form" model="ir.ui.view">
            <field name="name">view.cleanup.config.form</field>
            <field name="model">auto.clean</field>
            <field name="arch" type="xml">
                <form string="Auto Cleanup">
                    <sheet>
                        <group>
                            <group>
                                <field name="notification_cleanup" string="Notification Cleanup"/>
                                <field name="followers_cleanup" string="Followers Cleanup"/>
                                <field name="cleanup_type" string="Cleanup Type" widget="radio"/>
                            </group>
                            <group>
                                <field name="mail_cleanup" string="Mail Cleanup"/>
                                <field name="sms_cleanup" string="SMS Cleanup"/>
                            </group>
                        </group>
                        <br/>
                        <group>
                            <group invisible="notification_cleanup == False">
                                <h4 class="text-primary">Notification Cleanup</h4><br/>
                                <field name="notification_no" invisible="cleanup_type == 'date'"/>
                                <div invisible="cleanup_type == 'number'">
                                    <span class="text-warning">Create Date not available inside the Notification.</span>
                                </div>
                            </group>
                             <group invisible="mail_cleanup == False">
                                <h4 class="text-primary">Mail Cleanup</h4><br/>
                                <field name="mail_no" invisible="cleanup_type == 'date'"/>
                                <field name="mail_date" invisible="cleanup_type == 'number'"/>
                            </group>
                        </group>
                        <group>
                            <group invisible="followers_cleanup == False">
                                <h4 class="text-primary">Followers Cleanup</h4><br/>
                                <field name="followers_no" invisible="cleanup_type == 'date'"/>
                                <div invisible="cleanup_type == 'number'">
                                    <span class="text-warning">Create Date not available inside the Followers.</span>
                                </div>
                            </group>
                            <group invisible="sms_cleanup == False">
                                <h4 class="text-primary">SMS Cleanup</h4><br/>
                                <field name="sms_no" invisible="cleanup_type == 'date'"/>
                                <field name="sms_date" invisible="cleanup_type == 'number'"/>
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="action_auto_cleanup" model="ir.actions.act_window">
            <field name="name">Configure Cleanups</field>
            <field name="res_model">auto.clean</field>
            <field name="binding_view_types">form</field>
            <field name="view_mode">list,form</field>
            <field name="view_id" ref="view_cleanup_config_tree"/>
        </record>

        <menuitem id="auto_cleanup_menu" name="Cleanup" parent="base.menu_custom"/>
        <menuitem parent="auto_cleanup_menu" action="action_auto_cleanup" id="cleanup_conf_menu"/>
    </data>
</odoo>
